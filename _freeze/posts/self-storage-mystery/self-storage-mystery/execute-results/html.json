{
  "hash": "8ce364469e73047c1cb25d043cb23582",
  "result": {
    "markdown": "---\necho: true\ndate: '2022-12-23'\nlayout: post\ntitle: 'The mystery of stuff: why all the self-storage?'\ndraft: true\ncategories:\n  - code\n  - data\n  - geospatial\n---\n\n```{{python}}\n#| echo: false\nimport warnings\nwarnings.filterwarnings('ignore')\nimport matplotlib.pyplot as plt\nimport matplotlib_inline.backend_inline\n\n# Plot settings\nplt.style.use(\n    \"https://github.com/aeturrell/coding-for-economists/raw/main/plot_style.txt\"\n)\nmatplotlib_inline.backend_inline.set_matplotlib_formats(\"svg\")\n```\n\n\nThere's a mystery at the fringes of our towns and cities: beyond the concrete circulars and just off the dual carriageways a seemingly growing amount of our stuff is collecting dust in purpose-built warehouses. The puzzle is why so many self-storage units have sprung up across the UK and what people are storing in them that they need, well, very rarely.\n\nI should be clear: I don't know if the number has increased or not. It just *seems* like their numbers have increased, and others have noticed this and remarked upon it to me too (I have some pretty thrilling conversations with data scientists and economists). So I thought it would be fun to at least look at what data are available and see the likely extent of these self-storage units.\n\nWhat's weird is how expensive these storage units are. The price for 35 sq ft (3.5 square metres) in a self-storage place in Croydon is around £37 *a week*. You have to really care about that stuff to pay that much to keep it. At a time when most people are cutting back, it seems strange to spend so much on just keeping some stuff that—very probably—is hardly ever used. Of course, house prices are high too so this may be cheaper than having a bigger home, but it's a lot less convenient if you need something.\n\nIn films, books, and television, these are shady places where murderers keep their grisly trophies or international criminal gangs stash ill-gotten gains. In practice, they're likely to be a place to dump furniture that there's no space for—and maybe the falling cost of budget furniture is partly to blame, perhaps along with an ageing population that, sadly, often means clearing out the houses of elderly relatives after they are gone.\n\n## Data\n\nLet's bring some data to the story. But, before you get too excited, there isn't a killer data source here that I'm aware of. So we're going to use the crowd-sourced Open Street Map data to answer this question. It has a number of caveats: it's only updated (items added or deleted) when a member of the public decides to update it. So it may not give a totally accurate picture of what's going on, but it's a fantastic resource nonetheless because it aspires to be comprehensive and consistent in its tags. While it may not give a perfect count of what's out there, it should track it.\n\nWe will use the Open Street Map [Overpass Turbo API](https://wiki.openstreetmap.org/wiki/Overpass_API) to do a query on all self-storage units in the UK. The query can be run [here](https://overpass-turbo.eu/).\n\n```text\n[out:json][timeout:25];\n// fetch area to search in\n{{geocodeArea:\"United Kingdom\"}}->.searchArea;\n// gather results\n(\n  // query part for: “shop=storage_rental”\n  node[\"shop\"=\"storage_rental\"](area.searchArea);\n  way[\"shop\"=\"storage_rental\"](area.searchArea);\n  relation[\"shop\"=\"storage_rental\"](area.searchArea);\n);\n// print results\nout body;\n>;\nout skel qt;\n```\n\nThis returns a GeoJSON file (a file that encodes *geospatial data*) that we can pop straight into Python's [**geopandas**](https://geopandas.org/) package.\n\n```{{python}}\nimport geopandas as gpd\nfrom pathlib import Path\n\ndf = gpd.read_file(Path(\"posts/self-storage-mystery/storage.geojson\"))\ndf.head(3)\n```\n\n\nThese lines are not particularly informative! There are 104 fields here. But some simple aggregations can give us a better idea of what we're looking at.\n\nFirst we need to turn the ID information into something more useful. We'll work with 'ways', which define boundaries: these give us the extent / land area of each self-storage unit.\n\n```{{python}}\ndf[\"type\"] = df[\"id\"].str.split(\"/\").apply(lambda x: x[0] if len(x)>1 else \"NA\")\ndf.loc[df[\"type\"] == \"way\", \"brand\"].value_counts()\n```\n\nWe can see a couple of recognisable brands here. There are 22 locations listed for *Big Yellow Self Storage*. Unfortunately, checking the [website](https://www.bigyellow.co.uk/) for the same, we see that there are 106 locations. *Safestore* has 130. So Open Street Map really doesn't cut it for this example. As these are two of the bigger companies, it does give an idea of the extent of these firms.\n\n## Data in time\n\nBut what we really want to know is *when* these locations sprung up. Let's try a different tack: the (wonderful, underrated) *internet archive's* [*way back machine*](https://web.archive.org/).\n\nA search back through time at *Big Yellow Self Storage* shows us that in 2016, it had [87 stores](https://web.archive.org/web/20160802174541/http://www.bigyellow.co.uk/). We can't know that the extra 19 were all newly created since 2016 (rather than having been acquired from other providers). Back in 2012, the *Big Yellow Self Storage* company seems to have had [76 stores around the UK](https://web.archive.org/web/20121009163818/http://www.bigyellow.co.uk/).\n\nA similar exercise for [*SafeStore*](https://web.archive.org/web/20110102193907/http://www.safestore.co.uk/default.aspx) shows 90 locations in 2011, and [over 100 by 2016](https://web.archive.org/web/20160206185739/https://www.safestore.co.uk/). But again, we don't know if these were new or acquired.\n\n",
    "supporting": [
      "self-storage-mystery_files"
    ],
    "filters": [],
    "includes": {}
  }
}